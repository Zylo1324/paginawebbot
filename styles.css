    :root{
      --bg:#000000; --ink:#f8fafc; --ink-soft:#d2d9e6; --muted:#9aa7bb;
      --field:rgba(14,18,26,.85); --field-focus:rgba(20,26,36,.92); --border:rgba(255,255,255,.12);
      --glass-border:rgba(255,255,255,.24);
      --glass-bg-top:rgba(255,255,255,.2);
      --glass-bg-bottom:rgba(15,23,42,.42);
      --glass-top-highlight:rgba(255,255,255,.24);
      --glass-shadow-soft:0 32px 64px rgba(3,6,10,.55);
      --glass-shadow-strong:0 18px 34px rgba(3,6,10,.38);
      --glass-shadow-inset:inset 0 1px 0 rgba(255,255,255,.3);
      --pill-bg:rgba(249,115,22,.18); --pill-ink:#ffd7a3; --btn:#f28a2d; --btn-ink:#1c130a;
      --ghost:rgba(255,255,255,.06); --ghost-border:rgba(255,255,255,.18);
      --ghost-hover-bg:rgba(255,255,255,.12); --ghost-active-bg:rgba(255,255,255,.18);
      --ghost-hover-border:rgba(255,255,255,.26); --ghost-active-border:rgba(255,255,255,.32);
      --ok:#4ade80; --warn:#fbbf24; --bad:#fb7185; --link:#7dd3fc;
      --success:#16f2a6; --danger:#f97373; --shadow:0 30px 60px rgba(3,6,10,.55);
      --toolbar-bg:rgba(6,9,15,.82);
      --input-bg:rgba(255,255,255,.05);
      --input-border:rgba(255,255,255,.14);
      --input-focus-border:rgba(125,211,252,.6);
      --input-focus-shadow:rgba(125,211,252,.2);
      --input-bg-top:rgba(255,255,255,.08);
      --input-bg-bottom:rgba(15,23,42,.28);
      --input-highlight:rgba(255,255,255,.18);
      --input-lowlight:rgba(2,6,14,.5);
      --input-shadow-raised:rgba(3,6,12,.24);
      --input-focus-glow:rgba(56,189,248,.3);
      --card-bg:rgba(255,255,255,.06);
      --sidebar-overlay-top:rgba(15,23,42,.92);
      --sidebar-overlay-bottom:rgba(8,12,24,.96);
      --table-card-bg:var(--panel-bg);
      --table-header-bg:#111827;
      --table-border:var(--panel-border);
      --table-row-alt-bg:rgba(255,255,255,.03);
      --table-row-hover-bg:rgba(125,211,252,.12);
      --table-row-hover-shadow:inset 0 0 0 999px rgba(5,9,15,.12);
      --menu-bg:rgba(10,14,22,.96);
      --menu-hover-bg:rgba(255,255,255,.08);
      --modal-bg:var(--panel-bg);
      --backdrop-bg:rgba(3,6,11,.78);
      --chat-surface:#202123;
      --chat-border:#343541;
      --chat-user-bg:#343541;
      --chat-ai-bg:#262b33;
      --chat-accent:#10A37F;
      --chat-text:#ECECF1;
      --eye-bg:rgba(255,255,255,.08);
      --eye-border:rgba(255,255,255,.18);
      --sidebar-bg:#202123;
      --sidebar-border:var(--panel-border);
      --sidebar-shadow:0 14px 28px rgba(0,0,0,.32);
      --panel-bg:#262B33;
      --panel-border:#343541;
      --panel-shadow:0 12px 24px rgba(0,0,0,.28);
      --btn-surface:#343541;
      --btn-surface-hover:#3F4454;
      --btn-surface-active:#2C303B;
      --btn-solid-shadow:0 12px 22px rgba(0,0,0,.35);
      --btn-solid-shadow-hover:0 14px 26px rgba(0,0,0,.4);
      --btn-solid-shadow-active:0 8px 14px rgba(0,0,0,.3);
      --btn-primary-bg:#10A37F;
      --btn-primary-hover:#0E8C6D;
      --btn-primary-active:#0B7057;
      --btn-primary-shadow:0 14px 26px rgba(16,163,127,.35);
      --btn-primary-hover-shadow:0 16px 30px rgba(16,163,127,.4);
      --btn-primary-active-shadow:0 10px 20px rgba(16,163,127,.3);
      --btn-primary-text:#ffffff;
      --addserv-bg:#2A2D38;
      --addserv-border:#3D4050;
      --addserv-hover-bg:#313543;
      --addserv-hover-border:#474B5D;
      --addserv-active-bg:#232630;
      --addserv-active-border:#515567;
      --addserv-shadow:0 12px 22px rgba(0,0,0,.32);
      --addserv-shadow-hover:0 14px 24px rgba(0,0,0,.36);
      --addserv-shadow-active:0 8px 14px rgba(0,0,0,.28);
      --btn-base-bg-top:rgba(255,255,255,.16);
      --btn-base-bg-bottom:rgba(15,23,42,.28);
      --btn-base-hover-top:rgba(255,255,255,.22);
      --btn-base-hover-bottom:rgba(15,23,42,.36);
      --btn-base-active-top:rgba(255,255,255,.12);
      --btn-base-active-bottom:rgba(15,23,42,.22);
      --btn-base-shadow-soft:rgba(3,6,10,.55);
      --btn-base-shadow-strong:rgba(3,6,10,.32);
      --btn-base-shadow-hover-soft:rgba(3,6,10,.6);
      --btn-base-shadow-hover-strong:rgba(3,6,10,.4);
      --btn-base-shadow-active-soft:rgba(3,6,10,.45);
      --btn-base-shadow-active-strong:rgba(3,6,10,.5);
      --btn-base-highlight:rgba(255,255,255,.24);
      --btn-base-highlight-hover:rgba(255,255,255,.3);
      --btn-base-highlight-active:rgba(255,255,255,.2);
      --btn-ghost-bg-top:rgba(255,255,255,.18);
      --btn-ghost-bg-bottom:rgba(32,43,62,.24);
      --btn-ghost-hover-top:rgba(255,255,255,.24);
      --btn-ghost-hover-bottom:rgba(32,43,62,.3);
      --btn-ghost-active-top:rgba(255,255,255,.16);
      --btn-ghost-active-bottom:rgba(32,43,62,.24);
      --btn-ghost-shadow-soft:rgba(8,12,20,.45);
      --btn-ghost-shadow-strong:rgba(3,6,12,.32);
      --btn-ghost-shadow-hover-soft:rgba(8,12,20,.55);
      --btn-ghost-shadow-hover-strong:rgba(3,6,12,.42);
      --btn-ghost-shadow-active-soft:rgba(6,10,18,.4);
      --btn-ghost-shadow-active-strong:rgba(3,6,12,.5);
      --btn-ghost-highlight:rgba(255,255,255,.28);
      --btn-ghost-highlight-hover:rgba(255,255,255,.32);
      --btn-ghost-highlight-active:rgba(255,255,255,.24);
      --btn-primary-bg-top:#ffb15f;
      --btn-primary-bg-bottom:#d56715;
      --btn-primary-hover-top:#ffc070;
      --btn-primary-hover-bottom:#cf661d;
      --btn-primary-active-top:#f49a3c;
      --btn-primary-active-bottom:#d2641d;
      --btn-primary-shadow-soft:rgba(242,138,45,.5);
      --btn-primary-shadow-strong:rgba(199,98,18,.42);
      --btn-primary-shadow-hover-soft:rgba(242,138,45,.55);
      --btn-primary-shadow-hover-strong:rgba(199,98,18,.5);
      --btn-primary-shadow-active-soft:rgba(173,83,20,.48);
      --btn-primary-shadow-active-strong:rgba(130,60,14,.58);
      --btn-primary-highlight:rgba(255,237,213,.7);
      --btn-primary-highlight-hover:rgba(255,244,227,.78);
      --btn-primary-highlight-active:rgba(255,230,202,.62);
      --addserv-bg-top:rgba(255,255,255,.14);
      --addserv-bg-bottom:rgba(242,138,45,.18);
      --addserv-hover-top:rgba(242,138,45,.3);
      --addserv-hover-bottom:rgba(176,90,24,.26);
      --addserv-active-top:rgba(242,138,45,.24);
      --addserv-active-bottom:rgba(160,78,22,.28);
      --addserv-shadow-soft:rgba(5,9,15,.42);
      --addserv-shadow-strong:rgba(5,9,15,.28);
      --addserv-shadow-hover-soft:rgba(5,9,15,.52);
      --addserv-shadow-hover-strong:rgba(5,9,15,.36);
      --addserv-shadow-active-soft:rgba(5,9,15,.45);
      --addserv-shadow-active-strong:rgba(5,9,15,.5);
      --addserv-highlight:rgba(255,255,255,.24);
      --addserv-highlight-hover:rgba(255,255,255,.28);
      --addserv-highlight-active:rgba(255,255,255,.2);
      --launcher-bg-top:rgba(255,255,255,.32);
      --launcher-bg-bottom:rgba(12,20,32,.68);
      --launcher-hover-top:rgba(255,255,255,.38);
      --launcher-hover-bottom:rgba(16,26,42,.74);
      --launcher-active-top:rgba(236,242,255,.26);
      --launcher-active-bottom:rgba(10,16,28,.58);
      --launcher-shadow-soft:rgba(3,6,10,.55);
      --launcher-shadow-strong:rgba(3,6,10,.35);
      --launcher-shadow-hover-soft:rgba(3,6,10,.6);
      --launcher-shadow-hover-strong:rgba(3,6,10,.42);
      --launcher-shadow-active-soft:rgba(2,4,8,.5);
      --launcher-shadow-active-strong:rgba(2,4,8,.42);
      --launcher-highlight:rgba(255,255,255,.42);
      --launcher-highlight-hover:rgba(255,255,255,.48);
      --launcher-highlight-active:rgba(255,255,255,.34);
      --tag-border:rgba(255,255,255,.2);
      --tag-bg:rgba(255,255,255,.05);
      --hero-opacity:0;
    }
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Arial}
    html,body{margin:0;min-height:100%;background:var(--bg);color:var(--ink)}
    body{position:relative;min-height:100vh;overflow:hidden;padding-left:0;transition:padding-left .3s ease;--hero-opacity:0}
    body.page-loaded{--hero-opacity:1}
    body::before{
      content:"";
      position:fixed;
      inset:-40%;
      background:
        linear-gradient(rgba(0,0,0,.78),rgba(0,0,0,.78)),
        url("https://images.unsplash.com/photo-1524230572899-a752b3835840?auto=format&fit=crop&w=1600&q=80") center/cover no-repeat fixed;
      pointer-events:none;
      z-index:-1;
      filter:blur(12px);
      transform:scale(1.06);
      opacity:var(--hero-opacity);
      transition:opacity .6s ease,transform .6s ease,filter .6s ease;
    }
    body.page-loaded::before{filter:none;transform:scale(1)}
    body.theme-light{
      color-scheme:light;
      --bg:#f8fafc; --ink:#0f172a; --ink-soft:#1e293b; --muted:#475569;
      --field:#ffffff; --field-focus:#f1f5f9; --border:rgba(148,163,184,.35);
      --pill-bg:rgba(59,130,246,.14); --pill-ink:#1d4ed8;
      --ghost:rgba(226,232,240,.8); --ghost-border:rgba(148,163,184,.6);
      --ghost-hover-bg:rgba(148,163,184,.28); --ghost-active-bg:rgba(148,163,184,.36);
      --ghost-hover-border:rgba(100,116,139,.6); --ghost-active-border:rgba(71,85,105,.6);
      --shadow:0 18px 40px rgba(15,23,42,.12);
      --glass-border:rgba(148,163,184,.45);
      --glass-bg-top:rgba(255,255,255,.96);
      --glass-bg-bottom:rgba(226,232,240,.78);
      --glass-top-highlight:rgba(255,255,255,.72);
      --glass-shadow-soft:0 24px 44px rgba(15,23,42,.16);
      --glass-shadow-strong:0 12px 24px rgba(15,23,42,.12);
      --glass-shadow-inset:inset 0 1px 0 rgba(255,255,255,.85);
      --toolbar-bg:rgba(255,255,255,.86);
      --input-bg:#ffffff;
      --input-border:rgba(148,163,184,.55);
      --input-focus-border:rgba(37,99,235,.5);
      --input-focus-shadow:rgba(37,99,235,.18);
      --input-bg-top:rgba(255,255,255,.92);
      --input-bg-bottom:rgba(226,232,240,.82);
      --input-highlight:rgba(255,255,255,.9);
      --input-lowlight:rgba(148,163,184,.28);
      --input-shadow-raised:rgba(148,163,184,.22);
      --input-focus-glow:rgba(59,130,246,.26);
      --card-bg:#ffffff;
      --sidebar-overlay-top:rgba(241,245,249,.92);
      --sidebar-overlay-bottom:rgba(226,232,240,.94);
      --table-card-bg:var(--panel-bg);
      --table-header-bg:#e2e8f0;
      --table-border:var(--panel-border);
      --table-row-alt-bg:#f1f5f9;
      --table-row-hover-bg:rgba(16,163,127,.12);
      --table-row-hover-shadow:inset 0 0 0 999px rgba(15,23,42,.08);
      --menu-bg:#ffffff;
      --menu-hover-bg:#e2e8f0;
      --modal-bg:var(--panel-bg);
      --backdrop-bg:rgba(15,23,42,.35);
      --chat-surface:#ffffff;
      --chat-border:#cbd5e1;
      --chat-user-bg:#e9ecfa;
      --chat-ai-bg:#f4f6fd;
      --chat-accent:#10A37F;
      --chat-text:#0f172a;
      --eye-bg:#e2e8f0;
      --eye-border:rgba(148,163,184,.7);
      --sidebar-bg:#ffffff;
      --sidebar-border:var(--panel-border);
      --sidebar-shadow:0 10px 20px rgba(15,23,42,.12);
      --panel-bg:#ffffff;
      --panel-border:#d0d7e2;
      --panel-shadow:0 8px 18px rgba(15,23,42,.1);
      --btn-surface:#e2e8f0;
      --btn-surface-hover:#cbd5e1;
      --btn-surface-active:#94a3b8;
      --btn-solid-shadow:0 8px 16px rgba(15,23,42,.12);
      --btn-solid-shadow-hover:0 10px 20px rgba(15,23,42,.16);
      --btn-solid-shadow-active:0 6px 12px rgba(15,23,42,.1);
      --btn-primary-bg:#10A37F;
      --btn-primary-hover:#0E8C6D;
      --btn-primary-active:#0B7057;
      --btn-primary-shadow:0 10px 18px rgba(16,163,127,.28);
      --btn-primary-hover-shadow:0 12px 22px rgba(16,163,127,.32);
      --btn-primary-active-shadow:0 8px 16px rgba(16,163,127,.26);
      --btn-primary-text:#ffffff;
      --addserv-bg:#f1f5f9;
      --addserv-border:#cbd5e1;
      --addserv-hover-bg:#e2e8f0;
      --addserv-hover-border:#94a3b8;
      --addserv-active-bg:#cbd5e1;
      --addserv-active-border:#94a3b8;
      --addserv-shadow:0 8px 16px rgba(15,23,42,.12);
      --addserv-shadow-hover:0 10px 18px rgba(15,23,42,.16);
      --addserv-shadow-active:0 6px 12px rgba(15,23,42,.1);
      --tag-border:rgba(148,163,184,.6);
      --tag-bg:#e2e8f0;
      --btn-base-bg-top:#ffffff;
      --btn-base-bg-bottom:#dce6f6;
      --btn-base-hover-top:#f8fbff;
      --btn-base-hover-bottom:#cbdaf3;
      --btn-base-active-top:#eef3fb;
      --btn-base-active-bottom:#c2d1ee;
      --btn-base-shadow-soft:rgba(15,23,42,.16);
      --btn-base-shadow-strong:rgba(15,23,42,.1);
      --btn-base-shadow-hover-soft:rgba(15,23,42,.22);
      --btn-base-shadow-hover-strong:rgba(15,23,42,.14);
      --btn-base-shadow-active-soft:rgba(15,23,42,.16);
      --btn-base-shadow-active-strong:rgba(15,23,42,.2);
      --btn-base-highlight:rgba(255,255,255,.9);
      --btn-base-highlight-hover:rgba(255,255,255,.95);
      --btn-base-highlight-active:rgba(255,255,255,.82);
      --btn-ghost-bg-top:#f8fafc;
      --btn-ghost-bg-bottom:#dce5f3;
      --btn-ghost-hover-top:#eef4ff;
      --btn-ghost-hover-bottom:#cbd9f2;
      --btn-ghost-active-top:#e2e9f6;
      --btn-ghost-active-bottom:#c3d3eb;
      --btn-ghost-shadow-soft:rgba(15,23,42,.12);
      --btn-ghost-shadow-strong:rgba(15,23,42,.08);
      --btn-ghost-shadow-hover-soft:rgba(15,23,42,.18);
      --btn-ghost-shadow-hover-strong:rgba(15,23,42,.12);
      --btn-ghost-shadow-active-soft:rgba(15,23,42,.12);
      --btn-ghost-shadow-active-strong:rgba(15,23,42,.18);
      --btn-ghost-highlight:rgba(255,255,255,.85);
      --btn-ghost-highlight-hover:rgba(255,255,255,.9);
      --btn-ghost-highlight-active:rgba(255,255,255,.8);
      --btn-primary-shadow-soft:rgba(242,138,45,.36);
      --btn-primary-shadow-strong:rgba(199,98,18,.28);
      --btn-primary-shadow-hover-soft:rgba(242,138,45,.42);
      --btn-primary-shadow-hover-strong:rgba(199,98,18,.36);
      --btn-primary-shadow-active-soft:rgba(173,83,20,.32);
      --btn-primary-shadow-active-strong:rgba(130,60,14,.45);
      --btn-primary-highlight:rgba(255,244,227,.85);
      --btn-primary-highlight-hover:rgba(255,248,235,.9);
      --btn-primary-highlight-active:rgba(255,236,210,.78);
      --addserv-bg-top:#fdf4e0;
      --addserv-bg-bottom:#fbe1bf;
      --addserv-hover-top:#fbe1bf;
      --addserv-hover-bottom:#f0b978;
      --addserv-active-top:#f7c68f;
      --addserv-active-bottom:#e89b54;
      --addserv-shadow-soft:rgba(148,163,184,.32);
      --addserv-shadow-strong:rgba(148,163,184,.18);
      --addserv-shadow-hover-soft:rgba(148,163,184,.4);
      --addserv-shadow-hover-strong:rgba(148,163,184,.24);
      --addserv-shadow-active-soft:rgba(148,163,184,.32);
      --addserv-shadow-active-strong:rgba(148,163,184,.28);
      --addserv-highlight:rgba(255,255,255,.9);
      --addserv-highlight-hover:rgba(255,255,255,.95);
      --addserv-highlight-active:rgba(255,255,255,.88);
      --launcher-bg-top:#ffffff;
      --launcher-bg-bottom:#dbe6fb;
      --launcher-hover-top:#f8fbff;
      --launcher-hover-bottom:#c6d8f9;
      --launcher-active-top:#eef4ff;
      --launcher-active-bottom:#bed0f3;
      --launcher-shadow-soft:rgba(15,23,42,.16);
      --launcher-shadow-strong:rgba(15,23,42,.12);
      --launcher-shadow-hover-soft:rgba(15,23,42,.22);
      --launcher-shadow-hover-strong:rgba(15,23,42,.16);
      --launcher-shadow-active-soft:rgba(15,23,42,.18);
      --launcher-shadow-active-strong:rgba(15,23,42,.14);
      --launcher-highlight:rgba(255,255,255,.9);
      --launcher-highlight-hover:rgba(255,255,255,.95);
      --launcher-highlight-active:rgba(255,255,255,.85);
    }
    body.theme-light::before{
      background:radial-gradient(circle at 20% 20%,rgba(59,130,246,.15),rgba(148,163,184,0) 45%),
                 radial-gradient(circle at 80% 10%,rgba(16,185,129,.12),rgba(148,163,184,0) 52%),
                 radial-gradient(circle at 30% 80%,rgba(249,115,22,.12),rgba(148,163,184,0) 55%);
      filter:none;
      transform:none;
    }
    a{color:inherit}

    body.sidebar-expanded{padding-left:260px}
    /* ===== Sidebar y lanzador flotante ===== */
    .sidebar-launcher{position:fixed;top:20px;left:20px;width:54px;height:54px;border-radius:999px;border:1px solid rgba(255,255,255,.18);
      background:linear-gradient(145deg,var(--launcher-bg-top),var(--launcher-bg-bottom));color:var(--ink);display:flex;align-items:center;justify-content:center;font-size:24px;cursor:pointer;z-index:60;
      box-shadow:0 20px 44px var(--launcher-shadow-soft),0 12px 22px var(--launcher-shadow-strong),inset 0 1px 0 var(--launcher-highlight);
      backdrop-filter:blur(18px);transition:left .3s ease,transform .2s ease,box-shadow .2s ease,background .2s ease,border-color .2s ease;
    }
    .sidebar-launcher:hover,.sidebar-launcher:focus-visible{transform:translateY(-1px);
      background:linear-gradient(145deg,var(--launcher-hover-top),var(--launcher-hover-bottom));
      box-shadow:0 24px 50px var(--launcher-shadow-hover-soft),0 14px 24px var(--launcher-shadow-hover-strong),inset 0 1px 0 var(--launcher-highlight-hover);
      border-color:rgba(255,255,255,.26);
    }
    .sidebar-launcher:active{transform:translateY(0);
      background:linear-gradient(145deg,var(--launcher-active-top),var(--launcher-active-bottom));
      box-shadow:0 16px 30px var(--launcher-shadow-active-soft),0 8px 16px var(--launcher-shadow-active-strong),inset 0 1px 0 var(--launcher-highlight-active);
    }
    .sidebar-launcher:focus-visible{outline:2px solid rgba(125,211,252,.35);outline-offset:3px}
    .sidebar-launcher.is-open{background:linear-gradient(145deg,var(--btn-primary-bg-top),var(--btn-primary-bg-bottom));color:var(--btn-ink);border-color:rgba(255,255,255,.24);
      box-shadow:0 24px 48px var(--btn-primary-shadow-soft),0 12px 24px var(--btn-primary-shadow-strong),inset 0 1px 0 var(--btn-primary-highlight);
    }
    .sidebar-launcher.is-open:hover,.sidebar-launcher.is-open:focus-visible{background:linear-gradient(145deg,var(--btn-primary-hover-top),var(--btn-primary-hover-bottom));
      box-shadow:0 28px 54px var(--btn-primary-shadow-hover-soft),0 14px 28px var(--btn-primary-shadow-hover-strong),inset 0 1px 0 var(--btn-primary-highlight-hover);
    }
    .sidebar-launcher.is-open:active{background:linear-gradient(145deg,var(--btn-primary-active-top),var(--btn-primary-active-bottom));
      box-shadow:0 18px 34px var(--btn-primary-shadow-active-soft),0 10px 20px var(--btn-primary-shadow-active-strong),inset 0 1px 0 var(--btn-primary-highlight-active);
    }
    body.sidebar-expanded .sidebar-launcher{left:220px}
    .sidebar{
      position:fixed;
      inset:0 auto 0 0;
      width:260px;
      background:var(--sidebar-bg);
      border-right:1px solid var(--sidebar-border);
      box-shadow:var(--sidebar-shadow);
      padding:60px 20px 20px;
      display:flex;
      flex-direction:column;
      z-index:30;
      transition:transform .3s ease,box-shadow .3s ease;
      overflow:hidden;
      transform:translateX(-100%);
    }
    .sidebar.pinned,.sidebar.peek{
      transform:translateX(0);
      box-shadow:var(--sidebar-shadow);
    }
    .sidebar .sidebar-content{position:relative;height:100%;overflow-y:auto;padding-right:6px}
    .sidebar .label{transition:opacity .2s ease}
    .btn{border:0;border-radius:14px;padding:10px 16px;cursor:pointer;font-weight:600;color:var(--ink);
      background:var(--btn-bg,var(--btn-surface));
      box-shadow:var(--btn-shadow,var(--btn-solid-shadow));
      transition:background .2s ease,border-color .2s ease,box-shadow .2s ease,transform .2s ease,color .2s ease;
    }
    .btn:hover,.btn:focus-visible{background:var(--btn-hover-bg,var(--btn-surface-hover));
      box-shadow:var(--btn-hover-shadow,var(--btn-solid-shadow-hover));
      transform:translateY(-1px);
    }
    .btn:active{transform:translateY(0);
      background:var(--btn-active-bg,var(--btn-surface-active));
      box-shadow:var(--btn-active-shadow,var(--btn-solid-shadow-active));
    }
    .btn.ghost{border:1px solid var(--ghost-border);
      --btn-bg:var(--ghost);
      --btn-hover-bg:var(--ghost-hover-bg);
      --btn-active-bg:var(--ghost-active-bg);
      --btn-shadow:none;
      --btn-hover-shadow:none;
      --btn-active-shadow:none;
    }
    .btn.ghost:hover,.btn.ghost:focus-visible{border-color:var(--ghost-hover-border);}
    .btn.ghost:active{border-color:var(--ghost-active-border);}
    .btn.primary{color:var(--btn-primary-text);
      --btn-bg:var(--btn-primary-bg);
      --btn-hover-bg:var(--btn-primary-hover);
      --btn-active-bg:var(--btn-primary-active);
      --btn-shadow:var(--btn-primary-shadow);
      --btn-hover-shadow:var(--btn-primary-hover-shadow);
      --btn-active-shadow:var(--btn-primary-active-shadow);
    }
    .btn:focus-visible{outline:2px solid rgba(125,211,252,.45);outline-offset:3px}
    .linklike{background:none;border:0;color:var(--link);cursor:pointer;padding:0;font-weight:600;position:relative;transition:color .2s ease}
    .linklike::after{content:"";position:absolute;left:0;bottom:-2px;width:100%;height:2px;background:currentColor;transform:scaleX(0);transform-origin:left;transition:transform .2s ease}
    .linklike:hover,.linklike:focus-visible{color:#bae6fd}
    .linklike:hover::after,.linklike:focus-visible::after{transform:scaleX(1)}
    .linklike:active{color:#38bdf8}
    .linklike:active::after{transform:scaleX(1)}

    /* ===== Layout ===== */
    #Header,#BarraServicio,#AppGrid{width:min(1200px,92vw);margin:0 auto}
    #Header{padding:36px 18px 0;position:relative;z-index:0;opacity:var(--hero-opacity);transform:translateY(24px);filter:blur(8px);transition:opacity .55s ease,transform .55s ease,filter .55s ease}
    #BarraServicio{padding:0 18px}
    #AppGrid{padding:0 18px;margin-top:32px;min-height:100vh;display:grid;grid-template-columns:minmax(0,1fr);grid-template-areas:"form" "acciones";gap:24px}
    #Formulario{grid-area:form}
    #AccionesRapidas{grid-area:acciones}
    #TablaClientes{margin-top:0;display:none}
    @media(min-width:960px){
      #AppGrid{grid-template-columns:minmax(0,2fr)minmax(0,1fr);grid-template-areas:"form acciones";}
    }
    .panel-clientes{position:fixed;inset:0;display:flex;justify-content:flex-end;align-items:stretch;opacity:0;visibility:hidden;pointer-events:none;transition:opacity .25s ease;z-index:90}
    .panel-clientes__overlay{position:absolute;inset:0;background:var(--backdrop-bg);opacity:0;transition:opacity .25s ease}
    .panel-clientes__sheet{position:relative;z-index:1;width:min(640px,96vw);max-width:680px;height:100%;background:var(--panel-bg);border-left:1px solid var(--panel-border);box-shadow:var(--panel-shadow);transform:translateX(24px);transition:transform .28s ease,opacity .28s ease;display:flex;flex-direction:column;opacity:0;overflow:hidden;border-radius:24px 0 0 24px}
    .panel-clientes__sheet:focus{outline:2px solid rgba(125,211,252,.45);outline-offset:-4px}
    .panel-clientes__content{flex:1;overflow:auto;padding:32px 28px 28px;display:flex;flex-direction:column;gap:24px}
    .panel-clientes.is-open{opacity:1;visibility:visible;pointer-events:auto}
    .panel-clientes.is-open .panel-clientes__overlay{opacity:1}
    .panel-clientes.is-open .panel-clientes__sheet{transform:translateX(0);opacity:1}
    .panel-clientes.is-open #TablaClientes{display:flex}
    @media(max-width:720px){
      .panel-clientes__sheet{width:100%;max-width:none;border-radius:0}
    }
    .pill{display:block;width:max-content;margin:0 auto 14px;padding:6px 14px;border-radius:999px;background:var(--pill-bg);color:var(--pill-ink);border:1px solid var(--border);font-size:12px;letter-spacing:.08em;text-transform:uppercase}
    #Header .pill{opacity:var(--hero-opacity);transform:translateY(18px);filter:blur(6px);transition:opacity .5s ease,transform .5s ease,filter .5s ease;transition-delay:.05s}
    .hero-brand{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:clamp(12px,3vw,28px);margin:6px 0 24px;text-align:center;opacity:var(--hero-opacity);transform:translateY(28px);filter:blur(8px);transition:opacity .6s ease,transform .6s ease,filter .6s ease;transition-delay:.12s}
    body.page-loaded #Header,
    body.page-loaded .hero-brand,
    body.page-loaded #Header .pill{opacity:var(--hero-opacity);transform:none;filter:none}
    .hero-brand img{width:clamp(64px,16vw,132px);height:auto;flex-shrink:0;filter:drop-shadow(0 18px 36px rgba(0,0,0,.55));border-radius:24px}
    .hero-brand span{display:block;font-weight:800;letter-spacing:-0.02em;color:var(--ink);font-size:clamp(54px,16vw,144px);line-height:.95;text-shadow:0 12px 32px rgba(0,0,0,.55);text-transform:uppercase}
    @media(max-width:520px){
      .hero-brand span{font-size:clamp(42px,20vw,96px)}
    }

    /* ===== Servicio centrado ===== */
    .center{display:flex;justify-content:center;align-items:center;gap:10px;margin:8px 0 20px}
    .center .label{color:var(--ink-soft)}
    .addserv{border:1px dashed var(--addserv-border);background:var(--addserv-bg);color:var(--ink);padding:8px 12px;border-radius:12px;font-size:15px;min-width:40px;text-align:center;
      transition:background .2s ease,border-color .2s ease,box-shadow .2s ease,transform .2s ease,color .2s ease;
      box-shadow:var(--addserv-shadow);
    }
    .addserv:hover,.addserv:focus-visible{background:var(--addserv-hover-bg);border-color:var(--addserv-hover-border);
      box-shadow:var(--addserv-shadow-hover);
      transform:translateY(-1px);
    }
    .addserv:active{background:var(--addserv-active-bg);border-color:var(--addserv-active-border);
      transform:translateY(0);
      box-shadow:var(--addserv-shadow-active);
    }
    .addserv:focus-visible{outline:2px solid rgba(16,163,127,.35);outline-offset:2px}
    .addserv.remove{border-color:rgba(251,113,133,.45);color:#fecdd3;background:rgba(248,113,113,.16)}

    /* ===== Form (labels arriba) ===== */
    .form{
      background:
        linear-gradient(180deg,var(--glass-top-highlight),rgba(255,255,255,0) 40%),
        linear-gradient(160deg,var(--glass-bg-top),var(--glass-bg-bottom)),
        var(--card-bg);
      border-radius:20px;
      border:1px solid var(--glass-border);
      padding:28px;
      box-shadow:var(--glass-shadow-soft),var(--glass-shadow-strong),var(--glass-shadow-inset);
      backdrop-filter:blur(22px);
    }
    .form-grid{display:grid;gap:16px}
    @media(min-width:720px){
      .form-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
    }
    .row{display:flex;flex-direction:column;gap:6px}
    .form-grid .row{min-width:0}
    .span-2{grid-column:1 / -1}
    .row label{color:var(--ink-soft);font-size:13px;font-weight:600;letter-spacing:.04em;text-transform:uppercase}
    input:not([type=checkbox]):not([type=radio]),select,textarea{
      width:100%;
      padding:14px;
      border:1px solid var(--input-border);
      border-radius:14px;
      color:var(--ink);
      outline:none;
      background-color:var(--field);
      background-image:linear-gradient(155deg,var(--input-bg-top),var(--input-bg-bottom));
      transition:background-color .2s ease,border-color .2s ease,box-shadow .25s ease,color .2s ease;
      box-shadow:inset 0 1px 0 var(--input-highlight),inset 0 -1px 0 var(--input-lowlight),0 8px 18px var(--input-shadow-raised);
    }
    input::placeholder,textarea::placeholder{color:var(--muted)}
    input:focus,select:focus,textarea:focus{
      border-color:var(--input-focus-border);
      background-color:var(--field-focus);
      box-shadow:0 0 0 1px var(--input-focus-border),0 0 0 4px var(--input-focus-glow),0 0 0 8px var(--input-focus-shadow),0 12px 24px var(--input-shadow-raised),inset 0 1px 0 var(--input-highlight),inset 0 -1px 0 var(--input-lowlight);
    }
    textarea{min-height:88px;resize:vertical}
    .actions{display:flex;justify-content:center;gap:10px;margin-top:18px}
    .small{font-size:12px;color:var(--muted);text-align:center;margin-top:8px}
    .side-card{
      background:
        linear-gradient(180deg,var(--glass-top-highlight),rgba(255,255,255,0) 38%),
        linear-gradient(160deg,var(--glass-bg-top),var(--glass-bg-bottom)),
        var(--card-bg);
      border-radius:20px;
      border:1px solid var(--glass-border);
      padding:28px;
      box-shadow:var(--glass-shadow-soft),var(--glass-shadow-strong),var(--glass-shadow-inset);
      backdrop-filter:blur(22px);
      display:flex;
      flex-direction:column;
      gap:18px;
    }
    .side-card h2{margin:0;font-size:18px;color:var(--ink);font-weight:700}
    .side-card p{margin:0;color:var(--muted);font-size:14px}
    .side-card .actions{flex-direction:column;justify-content:flex-start}
    .side-card .actions .btn{width:100%}
    .side-card .small{text-align:left;margin-top:0}
    .pin-wrap{position:relative}
    .pin-wrap .eye,
    .email-toggle{
      border:1px solid var(--eye-border);
      background-color:var(--eye-bg);
      background-image:linear-gradient(155deg,var(--input-bg-top),var(--input-bg-bottom));
      color:var(--ink);
      border-radius:10px;
      padding:6px 8px;
      cursor:pointer;
      box-shadow:inset 0 1px 0 var(--input-highlight),inset 0 -1px 0 var(--input-lowlight),0 6px 12px var(--input-shadow-raised);
      transition:background-color .2s ease,border-color .2s ease,box-shadow .25s ease,color .2s ease;
    }
    .pin-wrap .eye{position:absolute;right:10px;top:50%;transform:translateY(-50%)}

    /* email dropdown toggle */
    .row.suggestion-source{position:relative}
    .row.suggestion-source input{padding-right:44px}
    .email-toggle{position:absolute;right:10px;top:50%;transform:translateY(-50%);line-height:1}
    .pin-wrap .eye:hover,
    .email-toggle:hover{
      background-color:var(--field-focus);
      border-color:var(--ghost-hover-border);
      box-shadow:inset 0 1px 0 var(--input-highlight),inset 0 -1px 0 var(--input-lowlight),0 8px 16px var(--input-shadow-raised);
    }
    .pin-wrap .eye:focus-visible,
    .email-toggle:focus-visible{
      border-color:var(--input-focus-border);
      background-color:var(--field-focus);
      box-shadow:0 0 0 1px var(--input-focus-border),0 0 0 4px var(--input-focus-glow),0 0 0 8px var(--input-focus-shadow),0 8px 18px var(--input-shadow-raised),inset 0 1px 0 var(--input-highlight),inset 0 -1px 0 var(--input-lowlight);
      outline:none;
    }

    .linked-email-wrap{display:flex;gap:10px;align-items:center}
    .btn.icon-only{width:44px;height:44px;padding:0;display:flex;align-items:center;justify-content:center;font-size:24px;line-height:1}
    .btn.ghost.danger{color:var(--danger);border-color:rgba(249,113,113,.4)}
    .btn.ghost.danger:hover,.btn.ghost.danger:focus-visible{background:rgba(249,113,113,.18);border-color:rgba(249,113,113,.45)}
    .btn.ghost.danger:active{background:rgba(249,113,113,.24);border-color:rgba(249,113,113,.5)}
    .btn.ghost.danger:disabled{opacity:.4;cursor:not-allowed;box-shadow:none;transform:none}

    .row.suggestion-source .suggestion-dropdown,
    .row.suggestion-source .suggestion-dropdown.open{left:0;right:0}

    .suggestion-dropdown{position:absolute;top:calc(100% + 6px);left:0;right:0;background:var(--menu-bg);border:1px solid var(--ghost-border);border-radius:14px;padding:6px 0;box-shadow:var(--shadow);display:none;z-index:40;max-height:260px;overflow:auto}
    .suggestion-dropdown.open{display:block}
    .suggestion-item{width:100%;text-align:left;background:none;border:0;color:var(--ink);padding:10px 16px;cursor:pointer;display:flex;flex-direction:column;gap:4px;font-size:14px}
    .suggestion-item:hover,.suggestion-item:focus-visible{background:var(--menu-hover-bg);outline:none}
    .suggestion-item.is-active{background:var(--table-row-hover-bg);box-shadow:var(--table-row-hover-shadow)}
    .suggestion-email{font-weight:600}
    .suggestion-hint{color:var(--muted);font-size:12px}
    .suggestion-empty{padding:12px 16px;color:var(--muted);font-size:13px}

    /* ===== Tabla ===== */
    .table-section{margin-top:40px;display:flex;flex-direction:column;gap:18px}
    .table-header{display:flex;flex-direction:column;gap:12px}
    .table-header-info{display:flex;flex-direction:column;gap:6px}
    @media(min-width:720px){
      .table-header{flex-direction:row;align-items:flex-end;justify-content:space-between}
    }
    .table-header h2{margin:0;font-size:22px;font-weight:700;color:var(--ink);text-shadow:0 10px 20px rgba(0,0,0,.35)}
    .table-header p{margin:0;color:var(--muted);font-size:14px}
    .panel-clientes .panel-clientes__content{padding:32px 28px 32px}
    .panel-clientes .table-section{margin-top:0;flex:1}
    .panel-clientes .table-card{flex:1;display:flex;flex-direction:column}
    .panel-clientes .table-scroll{flex:1}
    .panel-clientes .panel-clientes-close{align-self:flex-start}
    .table-card{
      position:relative;
      background:var(--table-card-bg);
      border-radius:20px;
      border:1px solid var(--panel-border);
      box-shadow:var(--panel-shadow);
      overflow:visible;
    }
    .table-scroll{position:relative;width:100%;overflow-x:auto;overscroll-behavior-x:contain;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgba(125,211,252,.6) transparent;scrollbar-gutter:stable both-edges}
    .table-scroll:focus-visible{outline:2px solid rgba(125,211,252,.45);outline-offset:4px}
    .table-scroll::-webkit-scrollbar{height:10px}
    .table-scroll::-webkit-scrollbar-track{background:transparent}
    .table-scroll::-webkit-scrollbar-thumb{background:rgba(125,211,252,.65);border-radius:999px;border:3px solid rgba(0,0,0,0)}
    table{width:100%;min-width:100%;border-collapse:separate;border-spacing:0;border-radius:inherit}
    th,td{padding:14px 16px;border-bottom:1px solid var(--table-border);font-size:14px;word-break:break-word;overflow-wrap:anywhere}
    th{text-align:left;color:var(--muted);font-weight:700;letter-spacing:.08em;font-size:12px;text-transform:uppercase}
    td{color:var(--ink);font-weight:500}
    tbody tr{transition:background-color .2s ease,box-shadow .2s ease}
    tbody tr:nth-child(even){background:var(--table-row-alt-bg)}
    tbody tr:hover{background:var(--table-row-hover-bg);box-shadow:var(--table-row-hover-shadow)}
    thead th:first-child{border-top-left-radius:20px}
    thead th:last-child{border-top-right-radius:20px}
    tbody tr:last-child td:first-child{border-bottom-left-radius:20px}
    tbody tr:last-child td:last-child{border-bottom-right-radius:20px}
    .table-card th,.table-card td{background-clip:padding-box}
    .cell-actions{text-align:right}
    @media(max-width:639px){
      .table-card{padding:12px}
      .table-scroll{scrollbar-width:auto}
      #tabla{display:block}
      #tabla thead{display:none}
      #tabla tbody{display:grid;gap:16px;padding:4px 0}
      #tabla tbody tr{display:grid;grid-template-columns:1fr;gap:12px;padding:18px;border-radius:18px;border:1px solid var(--table-border);background:var(--table-card-bg);box-shadow:var(--panel-shadow)}
      #tabla tbody tr:nth-child(even){background:var(--table-card-bg)}
      #tabla tbody tr:hover{background:var(--table-row-hover-bg);box-shadow:var(--panel-shadow)}
      #tabla tbody tr td{display:grid;gap:6px;padding:0;border:0;background:transparent;text-align:left}
      #tabla tbody tr td::before{content:attr(data-label);font-size:12px;font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}
      #tabla tbody tr td[data-label=""]::before{content:'';display:none}
      #tabla tbody tr td .tag{justify-self:start}
      .cell-actions{justify-items:end}
      .cell-actions .menu-wrap{justify-self:end}
    }
    @media(min-width:640px){
      #tabla{display:table}
      .table-scroll thead th{position:sticky;top:0;background:var(--table-header-bg);z-index:2;box-shadow:0 1px 0 var(--table-border);border-bottom:1px solid var(--table-border)}
      #tabla thead{display:table-header-group}
      #tabla tbody{display:table-row-group}
      #tabla tbody tr{display:table-row}
      #tabla tbody tr td{display:table-cell;padding:14px 16px}
      #tabla tbody tr td::before{display:none}
    }
    .tag{font-size:12px;padding:4px 10px;border-radius:999px;display:inline-block;border:1px solid var(--tag-border);background:var(--tag-bg);color:var(--ink);backdrop-filter:blur(12px)}
    .tag.ok{color:var(--ok);background:rgba(74,222,128,.16);border-color:rgba(74,222,128,.38)}
    .tag.warn{color:var(--warn);background:rgba(251,191,36,.16);border-color:rgba(251,191,36,.38)}
    .tag.bad{color:var(--bad);background:rgba(251,113,133,.2);border-color:rgba(251,113,133,.4)}

    /* ===== Kebab ⋯ menú ===== */
    .menu-wrap{position:relative;display:inline-flex;align-items:center;gap:8px}
    .row-menu-indicator{border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.05);border-radius:12px;padding:6px 10px;line-height:1;color:var(--ink-soft);font-size:18px;letter-spacing:2px;transition:background-color .2s ease,border-color .2s ease,color .2s ease;user-select:none}
    tr[aria-expanded="true"] .row-menu-indicator{background:rgba(255,255,255,.12);border-color:rgba(255,255,255,.28);color:var(--ink)}
    .menu{position:absolute;right:0;top:calc(100% + 8px);background:var(--menu-bg);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);min-width:200px;padding:8px;opacity:0;visibility:hidden;pointer-events:none;transform:translateY(-6px);transition:opacity .2s ease,transform .2s ease;z-index:50;backdrop-filter:blur(18px)}
    .menu-info{padding:8px 10px 12px;border-bottom:1px solid var(--ghost-border);margin-bottom:8px;font-size:12px;color:var(--muted);line-height:1.4}
    .menu-info-row{display:flex;flex-direction:column;gap:2px;margin-bottom:6px}
    .menu-info-row:last-child{margin-bottom:0}
    .menu-info-label{font-size:11px;text-transform:uppercase;letter-spacing:.06em;color:var(--muted)}
    .menu-info-value{font-size:13px;font-weight:600;color:var(--ink)}
    .menu.open{opacity:1;visibility:visible;pointer-events:auto;transform:translateY(0)}
    .menu-item{display:block;width:100%;text-align:left;background:transparent;border:1px solid transparent;border-radius:10px;padding:10px 12px;cursor:pointer;font-size:14px;color:var(--ink);transition:background-color .15s ease,border-color .15s ease,color .15s ease}
    .menu-item:hover{background:var(--menu-hover-bg)}
    .menu-item.danger{color:var(--bad);border:1px solid rgba(251,113,133,.35);background:rgba(251,113,133,.12)}
    .menu-item.danger:hover{background:rgba(251,113,133,.2);border-color:rgba(251,113,133,.5)}

    /* ===== Modales ===== */
    .modal-backdrop{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:16px;background:var(--backdrop-bg);opacity:0;visibility:hidden;pointer-events:none;transform:translateY(6px);transition:opacity .2s ease,transform .2s ease;z-index:100;backdrop-filter:blur(12px)}
    .modal-backdrop.open{opacity:1;visibility:visible;pointer-events:auto;transform:translateY(0)}
    .modal{
      background:var(--modal-bg);
      border:1px solid var(--modal-border,var(--panel-border));
      border-radius:18px;
      width:min(760px,96vw);
      max-height:90vh;
      display:flex;
      flex-direction:column;
      box-shadow:var(--modal-shadow,var(--panel-shadow));
      color:var(--ink);
    }
    .modal header{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid var(--panel-border)}
    .modal .body{padding:16px 18px;color:var(--ink)}
    .modal.chat-modal{
      width:min(1100px,98vw);
      height:min(90vh,840px);
      max-height:90vh;
      background:var(--chat-surface);
      border:1px solid var(--chat-border);
      color:var(--chat-text);
      box-shadow:var(--shadow);
      backdrop-filter:none;
      overflow:hidden;
    }
    .modal.chat-modal header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      padding:26px 32px 20px;
      border-bottom:1px solid var(--chat-border);
      background:var(--chat-user-bg);
      color:var(--chat-text);
    }
    .modal.chat-modal header .chat-header-actions{
      display:flex;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .modal.chat-modal header strong{
      font-size:1.6rem;
      font-weight:700;
      letter-spacing:-0.01em;
      color:var(--chat-text);
    }
    .modal.chat-modal .body{
      flex:1;
      display:flex;
      flex-direction:column;
      gap:24px;
      padding:28px 32px 32px;
      color:var(--chat-text);
      background:var(--chat-surface);
      overflow:hidden;
    }

    /* ===== Chat (Gemini) ===== */
    .section-head{font-weight:700;margin-bottom:8px;color:var(--ink);text-shadow:0 10px 24px rgba(0,0,0,.45)}
    .chat-log{flex:1;min-height:420px;max-height:calc(100% - 140px);overflow:auto;border:1px solid var(--chat-border);border-radius:18px;padding:22px 24px;background:var(--chat-surface);display:flex;flex-direction:column;gap:14px;color:var(--chat-text);box-shadow:inset 0 1px 0 rgba(255,255,255,.04)}
    .chat-log.is-empty{justify-content:center;align-items:center;gap:0;text-align:center;padding:32px 40px;}
    .chat-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;max-width:420px;margin:0 auto;color:var(--muted);line-height:1.6;}
    .chat-empty .chat-empty-emoji{font-size:2.4rem;line-height:1;}
    .chat-empty h3{margin:0;font-size:1.45rem;font-weight:700;color:var(--ink);letter-spacing:-0.01em;}
    .chat-empty p{margin:0;font-size:1.05rem;color:var(--muted);}
    .chat-msg{margin:0;display:flex}
    .chat-msg.user{justify-content:flex-end}
    .chat-msg .bubble{max-width:85%;padding:12px 16px;border-radius:16px;white-space:normal;line-height:1.6;font-size:1rem}
    @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    .chat-msg.loading .bubble{display:flex;align-items:center;justify-content:center;gap:10px;min-height:44px;color:var(--muted)}
    .chat-spinner{width:20px;height:20px;border-radius:50%;border:3px solid rgba(236,236,241,.16);border-top-color:var(--chat-accent);animation:spin .8s linear infinite}
    .chat-msg.user .chat-spinner{border-color:rgba(236,236,241,.24);border-top-color:var(--chat-accent)}
    .chat-msg .bubble p{margin:0}
    .chat-msg .bubble p+p{margin-top:8px}
    .chat-msg .bubble ul,
    .chat-msg .bubble ol{margin:8px 0 0;padding-left:22px}
    .chat-msg .bubble ul:first-child,
    .chat-msg .bubble ol:first-child{margin-top:0}
    .chat-msg .bubble li{margin:4px 0}
    .chat-msg .bubble li>ul,
    .chat-msg .bubble li>ol{margin-top:4px}
    .chat-msg .bubble table{width:100%;border-collapse:separate;border-spacing:0;margin:10px 0;border-radius:12px;overflow:hidden;background:var(--table-card-bg);border:1px solid var(--table-border);box-shadow:inset 0 1px 0 rgba(255,255,255,.05)}
    .chat-msg .bubble table:first-child{margin-top:0}
    .chat-msg .bubble table:last-child{margin-bottom:0}
    .chat-msg .bubble thead{background:var(--table-header-bg)}
    .chat-msg .bubble thead th{padding:10px 12px;font-weight:600;text-align:left;color:var(--ink)}
    .chat-msg .bubble tbody{background:transparent}
    .chat-msg .bubble tbody tr:nth-child(even){background:var(--table-row-alt-bg)}
    .chat-msg .bubble tbody tr:hover{background:var(--table-row-hover-bg);box-shadow:var(--table-row-hover-shadow)}
    .chat-msg .bubble tbody td{padding:10px 12px;border-top:1px solid var(--table-border)}
    .chat-msg .bubble th,
    .chat-msg .bubble td{font-size:.95em;vertical-align:top}
    .chat-msg.user .bubble{background:var(--chat-user-bg);color:var(--chat-text);border:1px solid rgba(236,236,241,.16);box-shadow:none;white-space:pre-wrap;transition:background-color .2s ease,border-color .2s ease,color .2s ease}
    .chat-msg.ai .bubble{background:var(--chat-ai-bg);color:var(--chat-text);border:1px solid var(--chat-border);box-shadow:none;transition:background-color .2s ease,border-color .2s ease,color .2s ease}
    .chat-modal .composer{
      display:flex;
      align-items:center;
      gap:0;
      padding:6px 12px;
      border-radius:999px;
      border:1px solid rgba(236,236,241,.22);
      background:rgba(236,236,241,.08);
      color:var(--chat-text);
      box-shadow:0 10px 28px rgba(8,12,20,.25);
      transition:border-color .2s ease,box-shadow .2s ease,background-color .2s ease;
    }
    .chat-modal .composer:focus-within{
      border-color:var(--chat-accent);
      box-shadow:0 0 0 3px rgba(16,163,127,.28);
      background:rgba(236,236,241,.12);
    }
    .chat-modal .composer textarea{
      flex:1;
      padding-block:12px;
      padding-inline-start:8px;
      margin:0;
      font-size:1rem;
      line-height:1.45;
      min-height:36px;
      max-height:220px;
      resize:none;
      overflow-y:hidden;
      background:transparent;
      border:0;
      color:inherit;
      box-shadow:none;
      transition:color .2s ease;
    }
    .chat-modal .composer textarea::placeholder{color:rgba(236,236,241,.6)}
    .chat-modal .composer textarea:focus,
    .chat-modal .composer textarea:focus-visible{
      outline:0;
    }
    .chat-modal .composer button{
      --composer-btn-bg:#111111;
      --composer-btn-bg-hover:#000000;
      --composer-btn-bg-active:#1f2937;
      --composer-btn-color:#ffffff;
      width:42px;
      height:42px;
      margin-left:12px;
      padding:0;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      border:0;
      border-radius:50%;
      background:var(--composer-btn-bg);
      color:var(--composer-btn-color);
      box-shadow:0 12px 26px rgba(0,0,0,.3);
      cursor:pointer;
      font-size:18px;
      line-height:1;
      transition:background-color .2s ease,color .2s ease,transform .15s ease,box-shadow .2s ease;
    }
    .chat-modal .composer button:hover{
      background:var(--composer-btn-bg-hover);
      transform:translateY(-1px);
      box-shadow:0 16px 32px rgba(8,12,20,.3);
    }
    .chat-modal .composer button:active{
      background:var(--composer-btn-bg-active);
      transform:translateY(0);
      box-shadow:0 8px 18px rgba(8,12,20,.26);
    }
    .chat-modal .composer button:focus-visible{
      outline:3px solid rgba(125,211,252,.65);
      outline-offset:2px;
    }
    .chat-modal .body .small{margin:0;text-align:left;color:var(--muted)}
    .chat-modal .chat-share{display:flex;align-items:center;gap:10px;font-size:13px}
    .chat-modal .chat-share input{margin:0;width:auto;height:auto;accent-color:var(--chat-accent);cursor:pointer;transition:box-shadow .2s ease}
    .chat-modal .chat-share input:hover{box-shadow:0 0 0 3px rgba(16,163,127,.25);border-radius:4px}
    .chat-modal .chat-share input:focus-visible{outline:2px solid rgba(16,163,127,.6);outline-offset:2px;border-radius:4px}
    body:not(.theme-light) .chat-modal .composer button{
      --composer-btn-bg:#ffffff;
      --composer-btn-bg-hover:#f8fafc;
      --composer-btn-bg-active:#e2e8f0;
      --composer-btn-color:#0f172a;
      box-shadow:0 12px 26px rgba(8,12,20,.28);
    }
    body.theme-light .chat-modal .composer{
      background:#ffffff;
      border-color:rgba(148,163,184,.5);
      box-shadow:0 18px 40px rgba(15,23,42,.14);
      color:#0f172a;
    }
    body.theme-light .chat-modal .composer:focus-within{
      border-color:rgba(59,130,246,.45);
      box-shadow:0 0 0 3px rgba(59,130,246,.25);
      background:#ffffff;
    }
    body.theme-light .chat-msg.user .bubble{border-color:var(--chat-border)}
    body.theme-light .chat-spinner{border-color:rgba(15,23,42,.18);border-top-color:var(--chat-accent)}
    body.theme-light .chat-msg.user .chat-spinner{border-color:rgba(15,23,42,.24);border-top-color:var(--chat-accent)}
    body.theme-light .chat-modal .composer textarea::placeholder{color:rgba(15,23,42,.45)}
    body.theme-light .chat-modal .composer button{
      --composer-btn-bg:#111111;
      --composer-btn-bg-hover:#000000;
      --composer-btn-bg-active:#1f2937;
      --composer-btn-color:#ffffff;
      box-shadow:0 12px 28px rgba(15,23,42,.22);
    }
    body.theme-light .chat-log{box-shadow:inset 0 1px 0 rgba(15,23,42,.06)}
    .chat-modal .chat-note{font-size:12px;line-height:1.5}

    /* ===== Tokens de tema ===== */
    .sidebar-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:16px}
    .sidebar-list li{display:flex;flex-direction:column;gap:8px;color:var(--ink)}
    .sidebar-list li button.btn{align-self:flex-start}
    .auth-controls{gap:12px}
    .sidebar input,.sidebar select{border:1px solid var(--input-border);background:var(--input-bg);color:var(--ink)}
    .sidebar-search{position:relative;display:flex;align-items:center}
    .sidebar-search-icon{position:absolute;left:14px;display:flex;align-items:center;justify-content:center;color:var(--muted);pointer-events:none;font-size:16px}
    .sidebar-search input{padding-left:42px}
    .sidebar-search:focus-within .sidebar-search-icon{color:var(--ink)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .menu-item[aria-checked="true"]{background:var(--ghost);border:1px solid var(--ghost-border);font-weight:600}

    @media(max-width:960px){ body.sidebar-expanded{padding-left:0} }
    @media(max-width:768px){
      .sidebar{
        box-shadow:none;
        background:linear-gradient(160deg,var(--sidebar-overlay-top),var(--sidebar-overlay-bottom));
      }
      .sidebar.pinned,.sidebar.peek{box-shadow:var(--glass-shadow-soft),var(--glass-shadow-strong),var(--glass-shadow-inset),0 12px 24px rgba(3,6,10,.28)}
      body.sidebar-expanded .sidebar-launcher{left:20px}
    }
